(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{7079:(e,t,r)=>{Promise.resolve().then(r.bind(r,2771))},2771:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var a=r(7573),s=r(7653),l=r(582),n=r(7754),i=r(2148),o=r(8107),d=r(7738),c=r(5946),x=r(1986),g=r(6424),b=r(6640),u=r(2002),h=r(3444),m=r(6955),f=r(1581),p=r(2034),y=r(5298),k=r(6631),v=r(7842),N=r(5749),j=r(4890);let z=[{type:o.q.HAND,icon:d.Z,label:"Hand (H)"},{type:o.q.SELECTION,icon:c.Z,label:"Selection (V)"},{type:o.q.RECTANGLE,icon:x.Z,label:"Rectangle (R)"},{type:o.q.ROUND_RECT,icon:g.Z,label:"Round Rect"},{type:o.q.CIRCLE,icon:b.Z,label:"Circle (O)"},{type:o.q.TRIANGLE,icon:u.Z,label:"Triangle"},{type:o.q.RHOMBUS,icon:h.Z,label:"Diamond"},{type:o.q.HEXAGON,icon:m.Z,label:"Hexagon"},{type:o.q.ARROW,icon:f.Z,label:"Arrow (A)"},{type:o.q.LINE,icon:p.Z,label:"Line (L)"},{type:o.q.PENCIL,icon:y.Z,label:"Draw (P)"},{type:o.q.TEXT,icon:k.Z,label:"Text (T)"},{type:o.q.ERASER,icon:v.Z,label:"Eraser (E)"}],w=()=>{let{activeTool:e,setActiveTool:t,isDarkMode:r,toggleDarkMode:s}=(0,i.o)();return(0,a.jsx)("div",{className:"fixed z-[9999] flex items-center justify-center bottom-4 left-2 right-2 md:left-1/2 md:right-auto md:top-4 md:bottom-auto md:transform md:-translate-x-1/2 ",style:{touchAction:"none"},children:(0,a.jsxs)("div",{className:"flex items-center gap-1 p-1.5 bg-white dark:bg-zinc-800 shadow-xl rounded-xl border border-gray-200 dark:border-zinc-700 overflow-x-auto max-w-full no-scrollbar pointer-events-auto",children:[z.map(r=>(0,a.jsx)("button",{onClick:()=>t(r.type),className:"p-2 rounded-lg transition-all flex-shrink-0 flex items-center justify-center ".concat(e===r.type?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 dark:text-gray-300 dark:hover:bg-zinc-700"),title:r.label,children:(0,a.jsx)(r.icon,{size:18,className:e===r.type?"stroke-2":"stroke-1.5"})},r.type)),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-zinc-600 mx-1 flex-shrink-0"}),(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300 transition-colors flex-shrink-0",title:"Toggle Theme",children:r?(0,a.jsx)(N.Z,{size:18}):(0,a.jsx)(j.Z,{size:18})})]})})};var C=r(5191),E=r(1138),T=r(9883),O=r(9050),R=r(7908),S=r(5107),Z=r(6334),A=r(2038);let L=["#000000","#ef4444","#22c55e","#3b82f6","#eab308","#a855f7","#f97316","#ffffff"],I=()=>{let{strokeColor:e,setStrokeColor:t,strokeWidth:r,setStrokeWidth:s,opacity:l,setOpacity:n,gridType:d,setGridType:c,isSidebarOpen:x,toggleSidebar:g}=(0,i.o)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:g,className:"\n          fixed top-1/2 -translate-y-1/2 z-[60]\n          w-8 h-12 bg-white dark:bg-zinc-800 \n          border-y border-r border-gray-200 dark:border-zinc-700 \n          rounded-r-lg shadow-md flex items-center justify-center\n          text-gray-600 dark:text-gray-300 hover:text-blue-500\n          transition-all duration-300\n          ".concat(x?"left-[240px]":"left-0","\n        "),style:{touchAction:"none"},children:x?(0,a.jsx)(C.Z,{size:20}):(0,a.jsx)(E.Z,{size:20})}),(0,a.jsxs)("div",{className:"\n          fixed top-1/2 -translate-y-1/2 left-0 z-50\n          w-[240px] bg-white dark:bg-zinc-800 \n          border-y border-r border-gray-200 dark:border-zinc-700 \n          shadow-xl rounded-r-xl p-4 flex flex-col gap-6\n          transition-transform duration-300\n          ".concat(x?"translate-x-0":"-translate-x-full","\n        "),style:{touchAction:"none"},children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(T.Z,{size:16}),(0,a.jsx)("span",{children:"Stroke Color"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[L.map(r=>(0,a.jsx)("button",{onClick:()=>t(r),className:"w-8 h-8 rounded-full border border-gray-200 dark:border-zinc-600 transition-transform hover:scale-110 ".concat(e===r?"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-zinc-800":""),style:{backgroundColor:r},"aria-label":"Select color ".concat(r)},r)),(0,a.jsx)("div",{className:"relative w-8 h-8 rounded-full overflow-hidden border border-gray-200 dark:border-zinc-600",children:(0,a.jsx)("input",{type:"color",value:e,onChange:e=>t(e.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 m-0 border-0",title:"Custom Color"})})]})]}),(0,a.jsx)("div",{className:"w-full h-px bg-gray-200 dark:bg-zinc-700"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.Z,{size:16}),(0,a.jsx)("span",{children:"Opacity"})]}),(0,a.jsxs)("span",{className:"text-xs",children:[Math.round(100*l),"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:l,onChange:e=>n(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm font-medium text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R.Z,{size:16}),(0,a.jsx)("span",{children:"Thickness"})]}),(0,a.jsxs)("span",{className:"text-xs",children:[r,"px"]})]}),(0,a.jsx)("input",{type:"range",min:"1",max:"50",value:r,onChange:e=>s(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]}),(0,a.jsx)("div",{className:"w-full h-px bg-gray-200 dark:bg-zinc-700"}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(S.Z,{size:16}),(0,a.jsx)("span",{children:"Canvas Grid"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("button",{onClick:()=>c(o.t.NONE),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ".concat(d===o.t.NONE?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded border border-current opacity-50"}),"Blank"]}),(0,a.jsxs)("button",{onClick:()=>c(o.t.LINES),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ".concat(d===o.t.LINES?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(Z.Z,{size:16}),"Grid Lines"]}),(0,a.jsxs)("button",{onClick:()=>c(o.t.DOTS),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ".concat(d===o.t.DOTS?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300"),children:[(0,a.jsx)(A.Z,{size:16}),"Dots"]})]})]})]})]})};var q=r(7876),D=r(8338);let G=()=>(0,a.jsxs)("div",{className:"fixed z-[60] flex gap-2 top-4 left-4  md:top-auto md:bottom-4 md:left-4",style:{touchAction:"none"},children:[(0,a.jsx)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("whiteboard:undo"))},className:"p-2.5 bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200 rounded-lg shadow-md border border-gray-200 dark:border-zinc-700 hover:bg-gray-100 dark:hover:bg-zinc-700 transition-colors active:scale-95",title:"Undo (Ctrl+Z)",children:(0,a.jsx)(q.Z,{size:20})}),(0,a.jsx)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("whiteboard:redo"))},className:"p-2.5 bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200 rounded-lg shadow-md border border-gray-200 dark:border-zinc-700 hover:bg-gray-100 dark:hover:bg-zinc-700 transition-colors active:scale-95",title:"Redo (Ctrl+Y)",children:(0,a.jsx)(D.Z,{size:20})})]}),H=(0,l.default)(()=>Promise.all([r.e(876),r.e(704),r.e(231)]).then(r.bind(r,2231)).then(e=>e.Whiteboard),{loadableGenerated:{webpack:()=>[2231]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center w-full h-full bg-neutral-50 dark:bg-zinc-900 text-gray-400 animate-pulse",children:"Initializing Canvas..."})});function _(){let e=(0,n.useSearchParams)().get("id");return e?(0,a.jsx)("div",{className:"fixed inset-0 w-screen h-screen flex flex-col overflow-hidden bg-neutral-50 dark:bg-zinc-900",style:{touchAction:"none"},children:(0,a.jsxs)("div",{className:"flex-1 relative w-full h-full",children:[(0,a.jsx)(H,{roomId:e}),(0,a.jsx)(I,{}),(0,a.jsx)(G,{}),(0,a.jsx)(w,{}),(0,a.jsxs)("div",{className:"absolute bottom-24 left-4 md:bottom-4 md:left-4 text-xs text-gray-400 pointer-events-none select-none z-0 hidden md:block",children:["OpenSketch â€¢ ",e.slice(0,8),"..."]})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center w-screen h-screen bg-neutral-50 dark:bg-zinc-900",children:(0,a.jsx)("div",{className:"text-gray-500",children:"No Room ID provided."})})}function M(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}),children:(0,a.jsx)(_,{})})}},2148:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var a=r(6641),s=r(8107);let l=(0,a.Ue)(e=>({activeTool:s.q.SELECTION,strokeColor:"#000000",strokeWidth:2,fillColor:"transparent",roughness:1,opacity:1,isDarkMode:!1,scale:1,gridType:s.t.NONE,isSidebarOpen:!1,setActiveTool:t=>e({activeTool:t}),setStrokeColor:t=>e({strokeColor:t}),setStrokeWidth:t=>e({strokeWidth:t}),setFillColor:t=>e({fillColor:t}),setRoughness:t=>e({roughness:t}),setOpacity:t=>e({opacity:t}),toggleDarkMode:()=>e(e=>({isDarkMode:!e.isDarkMode})),setScale:t=>e({scale:t}),setGridType:t=>e({gridType:t}),toggleSidebar:()=>e(e=>({isSidebarOpen:!e.isSidebarOpen}))}))},8107:(e,t,r)=>{"use strict";var a,s;r.d(t,{q:()=>a,t:()=>s}),function(e){e.SELECTION="selection",e.RECTANGLE="rectangle",e.ROUND_RECT="round_rect",e.CIRCLE="circle",e.TRIANGLE="triangle",e.RHOMBUS="rhombus",e.HEXAGON="hexagon",e.LINE="line",e.ARROW="arrow",e.PENCIL="pencil",e.TEXT="text",e.ERASER="eraser",e.HAND="hand"}(a||(a={})),function(e){e.NONE="none",e.LINES="lines",e.DOTS="dots"}(s||(s={}))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,174,765,744],()=>t(7079)),_N_E=e.O()}]);